(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{135:function(e,t,n){},171:function(e,t,n){},220:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(1),r=n.n(o),a=n(15),s=n.n(a),i=(n(171),n(26)),l=n.n(i),j=n(44),d=n(35),h=n(46),O=n(74),b=n(73),u=n(16),p=new function e(){Object(d.a)(this,e),Object(u.h)(this,{loading:!0,isLoggedIn:!1,username:""})},f=n(72),E=n(289),x=n(290),g=(n(75),n(12)),m=n(11),_=n(298),C=n(278),T=n(274),S=n(295),P=n(279),I=n(294),y=n(140),N=n.n(y),R=n(275),D=n(272),M=n(273),A=n(107),v=Object(D.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function L(){var e=Object(A.b)().enqueueSnackbar,t=v(),n=Object(o.useState)(""),r=Object(m.a)(n,2),a=r[0],s=r[1],i=Object(o.useState)(""),d=Object(m.a)(i,2),h=d[0],O=d[1],b=Object(o.useState)({username:"",password:"",rememberPassword:!1}),u=Object(m.a)(b,2),f=u[0],E=(u[1],Object(o.useState)({username:!0,password:!0})),x=Object(m.a)(E,2),y=x[0],D=x[1];Object(o.useEffect)((function(){localStorage.clear()}),[]);f.rememberPassword;var L=function(){var t=Object(j.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=3;break}return D((function(e){return Object(g.a)(Object(g.a)({},e),{},{username:!1})})),t.abrupt("return");case 3:if(h){t.next=6;break}return D((function(e){return Object(g.a)(Object(g.a)({},e),{},{password:!1})})),t.abrupt("return");case 6:return D({username:!0,password:!0}),t.prev=7,t.next=10,fetch("http://20.84.70.197:5000/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:h})});case 10:return n=t.sent,t.next=13,n.json();case 13:(c=t.sent)&&c.success?(e("Login Successfull"),p.isLoggedIn=c.success,p.username=c.username,sessionStorage.setItem("username",c.username),sessionStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",c.username)):c&&0==c.success&&(w(),e("Invalid Credential")),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),w();case 20:case"end":return t.stop()}}),t,null,[[7,17]])})));return function(){return t.apply(this,arguments)}}(),w=function(){s(""),O("")};return Object(c.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(T.a,{}),Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(_.a,{className:t.avatar,children:Object(c.jsx)(N.a,{})}),Object(c.jsx)(R.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(c.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(c.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"User Name",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){var t;(t=(t=e.target.value).trim()).length>12||s(t)},value:a,error:!y.username,helperText:y.username?"":" User Name Required."}),Object(c.jsx)(S.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){var t;(t=(t=e.target.value).trim()).length>12||O(t)},value:h,error:!y.password,helperText:y.password?"":" Password Required."}),Object(c.jsxs)("div",{className:"form-actions",children:[Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"form-check"})]}),Object(c.jsx)(C.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:L,children:"Sign In"}),Object(c.jsx)(P.a,{container:!0})]})]}),Object(c.jsx)(I.a,{mt:8})]})}r.a.Component,n(135);var w=n(38),J=n(9),k=n(286),z=n(101),F=n.n(z),Y=n(283),U=n(285),B=n(280),K=n(282),H=n(284),W=n(281);Object(J.a)((function(e){return{head:{backgroundColor:"#b31317",color:"white",fontFamily:"'Montserrat', sans-serif",fontSize:11},body:{fontSize:11,height:50,padding:3,fontFamily:"'Montserrat', sans-serif"}}}))(B.a),Object(J.a)((function(e){return{}}))(W.a),Object(D.a)({table:{minWidth:700},container:{maxHeight:500}});var G=n(145),V=n(24),X=n(287),q=n(288),Q=n(296),Z=n(300),$=n(148),ee=n(129),te=n.n(ee),ne=(n(177),function(e){Object(O.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(d.a)(this,n),(c=t.call(this,e)).getProjects=function(){fetch("http://20.84.70.197:5000/get-projects/").then((function(e){return e.json()})).then((function(e){return c.setState({projects:e,isLoading:!1})}))},c.state={projects:[],isLoading:!0,users:[],practices:[],act:0,index:"",PROJECT_ID:"",PROJECT_NAME:" ",PROJECT_DESCRIPTION:" ",PROJECT_START_DATE:new Date,PROJECT_END_DATE:new Date,PROJECT_TYPE:"",PROJECT_METHODOLOGY:"",PROJECT_STATUS:"",INSERT_DATE:(new Date).toISOString().substr(0,10),PRACTICE:"",PM_USERNAME:"",SA_USERNAME:""},c.remove=c.remove.bind(Object(V.a)(c)),c.onChangeProjectName=c.onChangeProjectName.bind(Object(V.a)(c)),c.onChangeDescription=c.onChangeDescription.bind(Object(V.a)(c)),c.onChangeStartDate=c.onChangeStartDate.bind(Object(V.a)(c)),c.onChangeEndDate=c.onChangeEndDate.bind(Object(V.a)(c)),c.onChangeType=c.onChangeType.bind(Object(V.a)(c)),c.onChangeMethodology=c.onChangeMethodology.bind(Object(V.a)(c)),c.onChangeStatus=c.onChangeStatus.bind(Object(V.a)(c)),c.onChangeInsertDate=c.onChangeInsertDate.bind(Object(V.a)(c)),c.onChangePractice=c.onChangePractice.bind(Object(V.a)(c)),c.onChangePM=c.onChangePM.bind(Object(V.a)(c)),c.onChangeSA=c.onChangeSA.bind(Object(V.a)(c)),c.onSubmit=c.onSubmit.bind(Object(V.a)(c)),c}return Object(h.a)(n,[{key:"onChangeInsertDate",value:function(e){this.setState({INSERT_DATE:e.target.value})}},{key:"onChangeStatus",value:function(e){this.setState({PROJECT_STATUS:e.target.value})}},{key:"onChangeMethodology",value:function(e){this.setState({PROJECT_METHODOLOGY:e.target.value})}},{key:"onChangeType",value:function(e){this.setState({PROJECT_TYPE:e.target.value})}},{key:"onChangeProjectName",value:function(e){this.setState({PROJECT_NAME:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({PROJECT_DESCRIPTION:e.target.value})}},{key:"onChangeStartDate",value:function(e){this.setState({PROJECT_START_DATE:e})}},{key:"onChangeEndDate",value:function(e){this.setState({PROJECT_END_DATE:e})}},{key:"onChangePractice",value:function(e){this.setState({PRACTICE:e.target.value})}},{key:"onChangePM",value:function(e){this.setState({PM_USERNAME:e.target.value})}},{key:"onChangeSA",value:function(e){this.setState({SA_USERNAME:e.target.value})}},{key:"onSubmit",value:function(e){var t=this,n={PROJECT_NAME:this.state.PROJECT_NAME,PROJECT_DESCRIPTION:this.state.PROJECT_DESCRIPTION,PROJECT_START_DATE:this.state.PROJECT_START_DATE.toISOString().slice(0,10),PROJECT_END_DATE:this.state.PROJECT_END_DATE.toISOString().slice(0,10),PROJECT_TYPE:this.state.PROJECT_TYPE,PROJECT_METHODOLOGY:this.state.PROJECT_METHODOLOGY,PROJECT_STATUS:this.state.PROJECT_STATUS,INSERT_DATE:this.state.INSERT_DATE,PRACTICE:this.state.PRACTICE,PM_USERNAME:this.state.PM_USERNAME,SA_USERNAME:this.state.SA_USERNAME};console.log(n),0===this.state.act?fetch("http://20.84.70.197:5000/project-create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.error("Error:",e)})):fetch("http://20.84.70.197:5000/project-update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({PROJECT_ID:this.state.PROJECT_ID,PROJECT_NAME:this.state.PROJECT_NAME,PROJECT_DESCRIPTION:this.state.PROJECT_DESCRIPTION,PROJECT_START_DATE:this.state.PROJECT_START_DATE.toISOString().slice(0,10),PROJECT_END_DATE:this.state.PROJECT_END_DATE.toISOString().slice(0,10),PROJECT_TYPE:this.state.PROJECT_TYPE,PROJECT_METHODOLOGY:this.state.PROJECT_METHODOLOGY,PROJECT_STATUS:this.state.PROJECT_STATUS,INSERT_DATE:this.state.INSERT_DATE,PRACTICE:this.state.PRACTICE,PM_USERNAME:this.state.PM_USERNAME,SA_USERNAME:this.state.SA_USERNAME})}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),t.getProjects()})).catch((function(e){console.error("Error:",e)})),this.setState({act:0})}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),this.getProjects(),fetch("http://20.84.70.197:5000/get-users/").then((function(e){return e.json()})).then((function(t){return e.setState({users:t})})),fetch("http://20.84.70.197:5000/get-practice/").then((function(e){return e.json()})).then((function(t){return e.setState({practices:t})}))}},{key:"handleEdit",value:function(e){var t=this.state.projects[e],n=t.PROJECT_START_DATE.split("-"),c=t.PROJECT_END_DATE.split("-");this.state.PROJECT_NAME=t.PROJECT_NAME,this.state.PROJECT_DESCRIPTION=t.PROJECT_DESCRIPTION,this.state.PROJECT_START_DATE=new Date(n[2],n[1]-1,+n[0]),this.state.PROJECT_END_DATE=new Date(c[2]++,c[1]-1,+c[0]),this.state.PROJECT_TYPE=t.PROJECT_TYPE,this.state.PROJECT_METHODOLOGY=t.PROJECT_METHODOLOGY,this.state.PROJECT_STATUS=t.PROJECT_STATUS,this.state.INSERT_DATE=t.INSERT_DATE,this.state.PRACTICE=t.PRACTICE,this.state.PM_USERNAME=t.PM_USERNAME,this.state.SA_USERNAME=t.SA_USERNAME,this.setState({act:1,index:e,PROJECT_ID:t.PROJECT_ID})}},{key:"remove",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://20.84.70.197:5000/get-project/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(){var e=Object(G.a)(n.state.projects).filter((function(e){return e.PROJECT_ID!==t}));n.setState({projects:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.projects,o=t.isLoading,r=t.users,a=t.practices;return o?Object(c.jsx)("p",{children:"Loading..."}):Object(c.jsxs)("div",{className:"projectList",children:[Object(c.jsx)("h3",{align:"center",children:"Projects"}),Object(c.jsx)(K.a,{component:$.a,children:Object(c.jsxs)(X.a,{children:[Object(c.jsx)(H.a,{children:Object(c.jsxs)(W.a,{children:[Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Action"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Project Name"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Description"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Start Date"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"End Date"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Type"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Methodology"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Status"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Practice"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Project Manager"})}),Object(c.jsx)(ce,{align:"left",children:Object(c.jsx)("b",{children:"Solution Architect"})})]})}),Object(c.jsxs)(U.a,{children:[Object(c.jsxs)(oe,{children:[Object(c.jsx)(ce,{component:"th",align:"left",scope:"row",children:Object(c.jsx)("td",{children:Object(c.jsx)("button",{color:"primary",type:"submit",onClick:function(){e.onSubmit()},children:""===this.state.PROJECT_ID?"Add":"Save"})})}),Object(c.jsxs)(ce,{component:"th",scope:"row",style:{width:10},children:[" ",Object(c.jsx)("td",{children:Object(c.jsx)("input",{type:"text",style:{width:70},className:"form-control",value:this.state.PROJECT_NAME,onChange:this.onChangeProjectName})})]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:Object(c.jsx)("input",{type:"text",style:{width:60},className:"form-control",value:this.state.PROJECT_DESCRIPTION,onChange:this.onChangeDescription})})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:Object(c.jsx)(te.a,{className:"date-input-field",selected:this.state.PROJECT_START_DATE,onChange:this.onChangeStartDate,name:"startDate",dateFormat:"dd-MM-yyyy"})})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:Object(c.jsx)(te.a,{className:"date-input-field",selected:this.state.PROJECT_END_DATE,onChange:this.onChangeEndDate,name:"endDate",dateFormat:"dd-MM-yyyy"})})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:Object(c.jsxs)(Q.a,{id:"project_type",style:{width:30,fontSize:12},value:this.state.PROJECT_TYPE,onChange:this.onChangeType,children:[Object(c.jsx)(Z.a,{style:{fontSize:12},value:"TM",children:"TM"}),Object(c.jsx)(Z.a,{style:{fontSize:12},value:"FP",children:"FP"})]})})," "]}),Object(c.jsx)(ce,{component:"th",scope:"row",children:Object(c.jsx)("td",{children:Object(c.jsxs)(Q.a,{id:"demo-simple-select4",style:{width:90,fontSize:12},value:this.state.PROJECT_METHODOLOGY,onChange:this.onChangeMethodology,children:[Object(c.jsx)(Z.a,{style:{fontSize:12},value:"AGILE",children:"AGILE"}),Object(c.jsx)(Z.a,{style:{fontSize:12},value:"WATERFALL",children:"WATERFALL"})]})})}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:Object(c.jsxs)(Q.a,{id:"status",style:{width:70,fontSize:12},value:this.state.PROJECT_STATUS,onChange:this.onChangeStatus,children:[Object(c.jsx)(Z.a,{style:{fontSize:12},value:"OPEN",children:"OPEN"}),Object(c.jsx)(Z.a,{style:{fontSize:12},value:"ON-HOLD",children:"ON-HOLD"}),Object(c.jsx)(Z.a,{style:{fontSize:12},value:"CLOSED",children:"CLOSED"})]})})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsxs)("td",{children:[Object(c.jsx)(Q.a,{style:{fontSize:12},id:"demo-simple-select1",value:this.state.PRACTICE,onChange:this.onChangePractice,children:a.map((function(e){return Object(c.jsx)(Z.a,{value:e.PRACTICE_ID,children:"".concat(e.practice," - ").concat(e.location)})}))}),"      "]})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:Object(c.jsx)(Q.a,{id:"demo-simple-select2",style:{fontSize:12},value:this.state.PM_USERNAME,onChange:this.onChangePM,children:r.map((function(e){return Object(c.jsx)(Z.a,{value:e.user_name,children:e.user_name})}))})})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:Object(c.jsx)(Q.a,{id:"demo-simple-select3",style:{fontSize:12},value:this.state.SA_USERNAME,onChange:this.onChangeSA,children:r.map((function(e){return Object(c.jsx)(Z.a,{value:e.user_name,children:e.user_name})}))})})," "]})]}),n.map((function(t,n){return Object(c.jsxs)(oe,{children:[Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:Object(c.jsx)(q.a,{size:"5px",width:"5px",children:Object(c.jsx)("button",{color:"primary",type:"submit",onClick:function(){e.handleEdit(n)},children:"Edit"})})})]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:t.PROJECT_NAME})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:t.PROJECT_DESCRIPTION})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[Object(c.jsx)("td",{children:t.PROJECT_START_DATE})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.PROJECT_END_DATE})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.PROJECT_TYPE})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.PROJECT_METHODOLOGY})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.PROJECT_STATUS})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.practice_detail})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.PM_USERNAME})," "]}),Object(c.jsxs)(ce,{component:"th",scope:"row",children:[" ",Object(c.jsx)("td",{children:t.SA_USERNAME})," "]})]},n)}))]})]})})]})}}]),n}(o.Component)),ce=Object(J.a)((function(e){return{head:{backgroundColor:"#b31317",color:"white",fontFamily:"'Montserrat', sans-serif"},body:{fontSize:14,fontFamily:"'Montserrat', sans-serif"}}}))(B.a),oe=Object(J.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},table:{minWidth:700}}}}))(W.a),re=function(e){var t=Object(o.useState)([]),n=Object(m.a)(t,2),r=n[0],a=n[1],s=Object(o.useState)({}),i=Object(m.a)(s,2),d=i[0],h=i[1],O=e.data;function b(){return u.apply(this,arguments)}function u(){return(u=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://20.84.70.197:5000/pm-input/".concat(O)).then((function(e){return e.json()})).then((function(e){e.push({PROJECT_ID:e[0].PROJECT_ID,PROJECT_COMPLETE_PERCENT:0,PROJECT_FIN_ACT_BUD:0,PROJECT_FIN_FCT_BUD:0,PROJECT_MILESTONE:"",PROJECT_DETAIL_ID:-1}),a(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(o.useEffect)((function(){b()}),[]);return Object(c.jsxs)("div",{className:"pmInput",style:{width:"95%"},size:"small",children:[Object(c.jsx)("h3",{children:"Project Manager Input"}),Object(c.jsx)(K.a,{component:$.a,children:Object(c.jsxs)(Y.a,{children:[Object(c.jsx)(H.a,{children:Object(c.jsxs)(W.a,{children:[Object(c.jsx)(ie,{style:{width:"5%"},align:"left",children:Object(c.jsx)("b",{children:"Actions"})}),Object(c.jsx)(ie,{style:{width:"10%"},align:"left",children:Object(c.jsx)("b",{children:"Project"})}),Object(c.jsx)(ie,{style:{width:"15%"},align:"left",children:Object(c.jsx)("b",{children:"Milestone"})}),Object(c.jsx)(ie,{style:{width:"5%"},align:"left",children:Object(c.jsx)("b",{children:"% Completion"})}),Object(c.jsx)(ie,{style:{width:"5%"},align:"left",children:Object(c.jsx)("b",{children:"% Fin (Act/Bud)"})}),Object(c.jsx)(ie,{style:{width:"5%"},align:"left",children:Object(c.jsx)("b",{children:"% Fin (Fct/Bud)"})}),Object(c.jsx)(ie,{style:{width:"10%"},align:"left",children:Object(c.jsx)("b",{children:"Last Update Date"})}),Object(c.jsx)(ie,{style:{width:"10%"},align:"left",children:Object(c.jsx)("b",{children:"Last Update By"})})]})}),Object(c.jsx)(U.a,{children:r.map((function(e,t){return Object(c.jsxs)(le,{children:[Object(c.jsx)(ie,{component:"th",scope:"row",style:{paddingLeft:0,witdh:"5%"},children:Object(c.jsxs)("td",{children:[Object(c.jsx)(C.a,{onClick:function(){!function(){console.log(d);var e="http://20.84.70.197:5000/pm-input",t="put";-1==d.PROJECT_DETAIL_ID&&(e="http://20.84.70.197:5000/pminput-create",t="post"),fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({PROJECT_ID:d.PROJECT_ID,PROJECT_COMPLETE_PERCENT:d.PROJECT_COMPLETE_PERCENT,PROJECT_FIN_ACT_BUD:d.PROJECT_FIN_ACT_BUD,PROJECT_FIN_FCT_BUD:d.PROJECT_FIN_FCT_BUD,PROJECT_MILESTONE:d.PROJECT_MILESTONE,PROJECT_DETAIL_ID:d.PROJECT_DETAIL_ID})}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),b()})).catch((function(e){console.error("Error:",e)})),console.log("Hello")}()},children:-1==e.PROJECT_DETAIL_ID?"Add":"Save"}),Object(c.jsx)(C.a,{onClick:function(){!function(e){var t=r[e];console.log(r),fetch("http://20.84.70.197:5000/pm-input-delete",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({PROJECT_ID:t.PROJECT_ID,PROJECT_DETAIL_ID:t.PROJECT_DETAIL_ID})}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),b()})).catch((function(e){console.error("Error:",e)})),console.log("Hello")}(t)},children:-1==e.PROJECT_DETAIL_ID?"":"Delete"})]})}),Object(c.jsxs)(ie,{component:"th",scope:"row",style:{width:"10%"},children:[Object(c.jsx)("td",{children:e.PROJECT_NAME})," "]}),Object(c.jsxs)(ie,{component:"th",scope:"row",style:{width:"15%"},children:[Object(c.jsx)("td",{children:Object(c.jsx)(se,{defaultValue:e.PROJECT_MILESTONE,getValue:function(t){h(Object.assign({},Object(g.a)({},e),Object(g.a)({},d),{PROJECT_MILESTONE:t},{PROJECT_DETAIL_ID:e.PROJECT_DETAIL_ID}))}})})," "]}),Object(c.jsxs)(ie,{component:"th",style:{width:"5%"},scope:"row",children:[Object(c.jsx)("td",{children:Object(c.jsx)(ae,{style:{width:5},defaultValue:e.PROJECT_COMPLETE_PERCENT,getValue:function(t){h(Object.assign({},Object(g.a)({},e),Object(g.a)({},d),{PROJECT_COMPLETE_PERCENT:t},{PROJECT_DETAIL_ID:e.PROJECT_DETAIL_ID}))}})})," "]}),Object(c.jsxs)(ie,{component:"th",scope:"row",style:{width:"5%"},children:[Object(c.jsx)("td",{children:Object(c.jsx)(ae,{style:{width:"5%"},defaultValue:e.PROJECT_FIN_ACT_BUD,getValue:function(t){h(Object.assign({},Object(g.a)({},e),Object(g.a)({},d),{PROJECT_FIN_ACT_BUD:t},{PROJECT_DETAIL_ID:e.PROJECT_DETAIL_ID}))}})})," "]}),Object(c.jsxs)(ie,{component:"th",scope:"row",style:{width:"5%"},children:[Object(c.jsx)("td",{children:Object(c.jsx)(ae,{style:{width:"5%"},defaultValue:e.PROJECT_FIN_FCT_BUD,getValue:function(t){h(Object.assign({},Object(g.a)({},e),Object(g.a)({},d),{PROJECT_FIN_FCT_BUD:t},{PROJECT_DETAIL_ID:e.PROJECT_DETAIL_ID}))}})})," "]}),Object(c.jsxs)(ie,{component:"th",scope:"row",style:{width:"10%"},children:[Object(c.jsx)("td",{children:void 0===e.LAST_UPDATE_DATE||null===e.LAST_UPDATE_DATE?"2021-01-20":e.LAST_UPDATE_DATE.split("T")[0]})," "]}),Object(c.jsxs)(ie,{component:"th",scope:"row",style:{width:"10%"},children:[Object(c.jsx)("td",{children:"himanshu"})," "]})]},e.PROJECT_ID)}))})]})})]})},ae=function(e){var t=Object(o.useState)(e.defaultValue),n=Object(m.a)(t,2),r=n[0],a=n[1];return Object(c.jsx)("input",{value:r,style:{width:"40px",fontFamily:"'Montserrat', sans-serif"},type:"number",size:"1",onChange:function(t){a(t.target.value),e.getValue(t.target.value)},onKeyPress:e.onChange})},se=function(e){var t=Object(o.useState)(e.defaultValue),n=Object(m.a)(t,2),r=n[0],a=n[1];return Object(c.jsx)("input",{value:r,type:"text",style:{width:"80px",fontFamily:"'Montserrat', sans-serif"},onChange:function(t){a(t.target.value),e.getValue(t.target.value)},onKeyPress:e.onKeyPress})},ie=Object(J.a)((function(e){return{head:{backgroundColor:"#b31317",color:"white",fontFamily:"'Montserrat', sans-serif"},body:{fontSize:12,fontFamily:"'Montserrat', sans-serif"}}}))(B.a),le=Object(J.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),je=(Object(D.a)({Table:{minWidth:600},container:{maxHeight:600}}),Object(J.a)((function(e){return{head:{backgroundColor:"#b31317",color:"white",fontFamily:"'Montserrat', sans-serif",fontSize:11},body:{fontSize:11,height:50,padding:3,fontFamily:"'Montserrat', sans-serif"}}}))(B.a)),de=(Object(J.a)((function(e){return{}}))(W.a),Object(D.a)({table:{minWidth:700},container:{maxHeight:500}}));function he(e){var t=de(),n=Object(o.useState)(!1),r=Object(m.a)(n,2),a=r[0],s=r[1],i=Object(o.useState)([0,0,0,0,0]),l=Object(m.a)(i,2),j=(l[0],l[1],Object(o.useState)("KPI")),d=Object(m.a)(j,2),h=(d[0],d[1],Object(o.useState)([])),O=Object(m.a)(h,2),b=O[0],u=O[1],p=function(e,t){return parseFloat(e)+parseFloat(t)};if(Object(o.useEffect)((function(){fetch("http://20.84.70.197:5000/getKPI",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.data[0],PROJECT_ID:e.data[1]})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("KPI",JSON.stringify(e));var t=e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{editPMNotes:!1,isRowUpdated:!1})}));u(t),console.log("hi",t),s(!0)}))}),[]),a){var f=JSON.parse(localStorage.getItem("tables")).map((function(e){return e.PMO})).filter((function(e,t,n){return n.indexOf(e)===t}));console.log("projectPMO",f);var E,x=b.map((function(e){return e.ROLE})).filter((function(e,t,n){return n.indexOf(e)===t})),_=[],C=new Map,T=Object(w.a)(b);try{for(T.s();!(E=T.n()).done;){var S=E.value,P="".concat(S.MILESTONE_ID,"~").concat(S.CYCLE_ID);C.has(P)||(C.set(P,!0),_.push({MILESTONE_ID:S.MILESTONE_ID,MILESTONE:S.MILESTONE,CYCLE_ID:S.CYCLE_ID,KPI_WEIGHT:S.KPI_WEIGHT,KPI_SCORE:S.KPI_SCORE,role:S.ROLE}))}}catch(y){T.e(y)}finally{T.f()}console.log(x[0]);var I=function(e){var t=b.map((function(t){return t.PROJECT_ID===e.PROJECT_ID&&t.MILESTONE_ID===e.MILESTONE_ID&&t.PARAMETER_ID===e.PARAMETER_ID&&t.CYCLE_ID===e.CYCLE_ID?(t[e.objectID]=e.value,t.isRowUpdated=!0,t.KPI_SCORE=b.filter((function(e){return e.MILESTONE===t.MILESTONE&&e.CYCLE_ID===t.CYCLE_ID})).map((function(e){return e.KPI_PMO_POINTS||0})).reduce(p,0)/b.filter((function(e){return e.MILESTONE===t.MILESTONE&&e.CYCLE_ID===t.CYCLE_ID})).map((function(e){return e.MAX_SCORE})).reduce(p)*t.KPI_WEIGHT,0===t.KPI_SCORE&&(t.KPI_SCORE=b.filter((function(e){return e.MILESTONE===t.MILESTONE&&e.CYCLE_ID===t.CYCLE_ID})).map((function(e){return e.KPI_POINTS||0})).reduce(p,0)/b.filter((function(e){return e.MILESTONE===t.MILESTONE&&e.CYCLE_ID===t.CYCLE_ID})).map((function(e){return e.MAX_SCORE})).reduce(p)*t.KPI_WEIGHT),Object(g.a)({},t)):t}));u(t)};return Object(c.jsxs)("div",{className:"kpiTable",children:[Object(c.jsx)("button",{color:"primary",type:"submit",onClick:function(){console.log("saving data",JSON.stringify({kpi:b})),fetch("http://20.84.70.197:5000/prjkpiupdate",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({kpi:b})}).then((function(e){return e.json()})).then((function(e){console.log(".....",e)})).catch((function(e){console.error("Error:",e)}))},children:"SAVE"}),Object(c.jsx)(K.a,{children:Object(c.jsxs)(Y.a,{children:[Object(c.jsx)(H.a,{children:Object(c.jsxs)(W.a,{children:[Object(c.jsx)(je,{style:{width:180,textAlign:"left"},children:Object(c.jsx)("b",{children:"Milestone"})}),Object(c.jsx)(je,{style:{width:330,textAlign:"left"},children:Object(c.jsx)("b",{children:"Parameters"})}),Object(c.jsx)(je,{style:{width:30,textAlign:"left"},children:Object(c.jsx)("b",{children:"Max Points"})}),Object(c.jsx)(je,{style:{width:40,textAlign:"left"},children:Object(c.jsx)("b",{children:"PM Points"})}),Object(c.jsx)(je,{style:{width:40,textAlign:"left"},children:Object(c.jsx)("b",{children:"PMO Points"})}),Object(c.jsxs)(je,{style:{width:30,textAlign:"left"},children:[Object(c.jsx)("b",{children:"Weight "}),"  "]}),Object(c.jsx)(je,{style:{width:30,textAlign:"left"},children:Object(c.jsx)("b",{children:" Score"})}),Object(c.jsx)(je,{style:{width:150,textAlign:"left"},children:Object(c.jsx)("b",{children:"PM Notes"})}),Object(c.jsxs)(je,{style:{maxWidth:150,textAlign:"left"},children:[" ",Object(c.jsx)("b",{children:"PMO Notes"})]})]})}),_.filter((function(e){return"PM"===e.role||"SA"===e.role})).map((function(e){return Object(c.jsx)(W.a,{children:Object(c.jsx)(je,{colSpan:"9",style:{border:"1px solid black"},children:Object(c.jsx)(Y.a,{className:t.table,"aria-label":"customized table",style:{border:1},children:Object(c.jsxs)(U.a,{children:[b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(t,n,o){return Object(c.jsxs)(W.a,{children:[0==n?Object(c.jsx)(je,{component:"td",rowSpan:o.length,style:{width:150,textAlign:"left"},children:Object(c.jsx)("b",{children:e.MILESTONE})}):null,Object(c.jsx)(je,{component:"td",style:{width:250,textAlign:"left"},children:t.PARAMETER_NAME}),Object(c.jsx)(je,{component:"td",style:{width:40,textAlign:"left"},children:t.MAX_SCORE}),Object(c.jsx)(je,{component:"td",style:{width:50,textAlign:"left"},children:Object(c.jsx)("input",{type:"text",className:"saInput",defaultValue:t.KPI_POINTS||0,size:"1",style:{fontSize:12,fontFamily:"'Montserrat', sans-serif"},onChange:function(n){return I({value:n.target.value||0,MILESTONE:e.MILESTONE,PROJECT_ID:t.PROJECT_ID,MILESTONE_ID:t.MILESTONE_ID,PARAMETER_ID:t.PARAMETER_ID,CYCLE_ID:t.CYCLE_ID,role:e.role,objectID:"KPI_POINTS"})},disabled:t.ROLE===t.OWNER&&"N"===t.PMO?null:"disabled"})}),Object(c.jsx)(je,{component:"td",style:{width:50,textAlign:"left"},children:Object(c.jsx)("input",{type:"N"===t.PMO?"hidden":"text",className:"saInput",defaultValue:t.KPI_PMO_POINTS||0,size:"1",style:{fontSize:12,fontFamily:"'Montserrat', sans-serif"},onChange:function(n){return I({value:n.target.value||0,MILESTONE:e.MILESTONE,PROJECT_ID:t.PROJECT_ID,MILESTONE_ID:t.MILESTONE_ID,PARAMETER_ID:t.PARAMETER_ID,CYCLE_ID:t.CYCLE_ID,role:e.role,objectID:"KPI_PMO_POINTS"})},disabled:"N"===t.PMO?"disabled":null})}),0===n?Object(c.jsx)(je,{component:"td",rowSpan:o.length,style:{width:50,textAlign:"center",borderBottom:"none"},children:e.KPI_WEIGHT}):null,0===n?Object(c.jsx)(je,{component:"td",rowSpan:o.length,style:{width:50,textAlign:"center",borderBottom:"none"},children:b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.KPI_PMO_POINTS||0})).reduce(p,0)/b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.MAX_SCORE})).reduce(p)*e.KPI_WEIGHT===0?b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.KPI_POINTS||0})).reduce(p,0)/b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.MAX_SCORE})).reduce(p)*e.KPI_WEIGHT:b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.KPI_PMO_POINTS||0})).reduce(p,0)/b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.MAX_SCORE})).reduce(p)*e.KPI_WEIGHT}):null,Object(c.jsxs)(je,{style:{width:180,textAlign:"left",borderBottom:"none"},children:[!t.editPMNotes&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("a",{style:{display:"table-cell"},href:t.KPI_PM_NOTES,target:"_blank",children:t.KPI_PM_NOTES}),"N"===t.PMO&&Object(c.jsx)(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:function(n){return function(e){var t=b.map((function(t){return t.PROJECT_ID===e.PROJECT_ID&&t.MILESTONE_ID===e.MILESTONE_ID&&t.PARAMETER_ID===e.PARAMETER_ID&&t.CYCLE_ID===e.CYCLE_ID?Object(g.a)(Object(g.a)({},t),{},{editPMNotes:!0}):t}));u(t)}({MILESTONE:e.MILESTONE,PROJECT_ID:t.PROJECT_ID,MILESTONE_ID:t.MILESTONE_ID,PARAMETER_ID:t.PARAMETER_ID,CYCLE_ID:t.CYCLE_ID})},children:Object(c.jsx)(F.a,{})})]}),t.editPMNotes&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("textarea",{style:{height:20,width:150,resize:"none",fontSize:12,fontFamily:"'Montserrat', sans-serif"},"text-align":"left",defaultValue:t.KPI_PM_NOTES,className:"saInput",onBlur:function(n){I({value:n.target.value||0,MILESTONE:e.MILESTONE,PROJECT_ID:t.PROJECT_ID,MILESTONE_ID:t.MILESTONE_ID,PARAMETER_ID:t.PARAMETER_ID,CYCLE_ID:t.CYCLE_ID,role:e.role,objectID:"KPI_PM_NOTES"}),be(n,"20px")},onClick:function(e){return Oe(e,"20px")},onChange:function(e){return Oe(e,"20px")}})})]}),Object(c.jsx)(je,{style:{width:180,textAlign:"left",fontSize:12,borderBottom:"none"},children:Object(c.jsx)("textarea",{disabled:"N"===t.PMO?"disabled":null,style:{height:20,width:150,resize:"none",fontSize:12,fontFamily:"'Montserrat', sans-serif"},type:"text","text-align":"left",defaultValue:t.KPI_PMO_NOTES,className:"saInput",size:"12",onBlur:function(n){I({value:n.target.value||0,MILESTONE:e.MILESTONE,PROJECT_ID:t.PROJECT_ID,MILESTONE_ID:t.MILESTONE_ID,PARAMETER_ID:t.PARAMETER_ID,CYCLE_ID:t.CYCLE_ID,role:e.role,objectID:"KPI_PMO_NOTES"}),be(n,"20px")},onClick:function(e){return Oe(e,"20px")},onChange:function(e){return Oe(e,"20px")}})})]},t.PARAMETER_NAME)})),Object(c.jsxs)(W.a,{children:[Object(c.jsx)(je,{style:{width:150,borderBottom:"none"}}),Object(c.jsx)(je,{style:{width:300,textAlign:"left"},align:"left",children:Object(c.jsx)("b",{children:"Total"})}),Object(c.jsx)(je,{style:{width:40,textAlign:"left"},children:Object(c.jsx)("b",{children:b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.MAX_SCORE})).reduce(p)})}),Object(c.jsx)(je,{id:e,style:{textAlign:"left"},children:Object(c.jsx)("b",{children:b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.KPI_POINTS||0})).reduce(p,0)})}),Object(c.jsx)(je,{align:"left",style:{visibility:"text",textAlign:"left"},children:Object(c.jsx)("b",{children:b.filter((function(t){return t.MILESTONE===e.MILESTONE&&t.CYCLE_ID===e.CYCLE_ID})).map((function(e){return e.KPI_PMO_POINTS||0})).reduce(p,0)})}),Object(c.jsx)(je,{align:"left",style:{textAlign:"left",borderBottom:"none"}}),Object(c.jsx)(je,{align:"left",style:{maxWidth:50,textAlign:"left",borderBottom:"none"}}),Object(c.jsx)(je,{align:"left",style:{textAlign:"left",borderBottom:"none"}})]},e.MILESTONE)]})})})})}))]})})]})}return Object(c.jsx)("div",{children:"Loading Please Wait"})}var Oe=function(e,t){if(e){var n=e.target?e.target:e;n.style.height=t,n.style.height="".concat(n.scrollHeight,"px")}},be=function(e,t){e&&((e.target?e.target:e).style.height=t)};Object(J.a)((function(e){return{head:{backgroundColor:e.palette.info.main,color:e.palette.common.black},body:{fontSize:14}}}))(B.a),Object(J.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(W.a),Object(D.a)({root:{minWidth:350},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var ue=Object(D.a)({root:{minWidth:400,color:"white"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12,fontFamily:"'Montserrat', sans-serif",fontSize:11}});function pe(e){var t=JSON.parse(localStorage.getItem("tables"));console.log(e.data);var n,o=ue(),r=Object(w.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.data===a.project_name)return console.log("I am In"),Object(c.jsx)("div",{children:Object(c.jsx)(E.a,{className:"projectBudget shadowClass",style:{boxShadow:"none",backgroundColor:"#DCDCDC"},children:Object(c.jsxs)(x.a,{children:[Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:[" Project Name",Object(c.jsx)(R.a,{className:o.pos,children:a.project_name})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["Project Start Date",Object(c.jsx)(R.a,{className:o.pos,children:a.project_start_date.split("T")[0]})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["PM Name",Object(c.jsx)(R.a,{className:o.pos,children:a.PA_NAME1})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["PM Email",Object(c.jsx)(R.a,{className:o.pos,children:a["max(PM_EMAIL)"]})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["SA Name",Object(c.jsx)(R.a,{className:o.pos,children:a.SA_NAME1})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["SA Email",Object(c.jsx)(R.a,{className:o.pos,children:a["max(SA_EMAIL)"]})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["Project Status",Object(c.jsx)(R.a,{className:o.pos,children:a.project_status})]})]})})})}}catch(s){r.e(s)}finally{r.f()}return Object(c.jsx)("div",{children:Object(c.jsx)(E.a,{className:"projectBudget shadowClass ",style:{boxShadow:"none",backgroundColor:"#DCDCDC"},children:Object(c.jsxs)(x.a,{style:{borderBottom:"none"},children:[Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:[" Project Name",Object(c.jsx)(R.a,{className:o.pos,children:t[0].project_name})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["Project Start Date",Object(c.jsx)(R.a,{className:o.pos,children:t[0].project_start_date.split("T")[0]})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["PM Name",Object(c.jsx)(R.a,{className:o.pos,children:t[0].PA_NAME1})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["PM Email",Object(c.jsx)(R.a,{className:o.pos,children:t[0]["max(PM_EMAIL)"]})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["SA Name",Object(c.jsx)(R.a,{className:o.pos,children:t[0].SA_NAME1})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["SA Email",Object(c.jsx)(R.a,{className:o.pos,children:t[0]["max(SA_EMAIL)"]})]}),Object(c.jsxs)(R.a,{className:o.pos,variant:"h7",component:"h4",color:"textPrimary",gutterBottom:!0,style:{color:"black"},children:["Project Status",Object(c.jsx)(R.a,{className:o.pos,children:t[0].project_status})]})]})})})}var fe=n(67),Ee=(n(220),n(0)),xe=n(57),ge=n(56),me=n(86),_e=[{title:"Home",eventKey:"home",path:"/",icon:Object(c.jsx)(ge.a,{}),cName:"nav-text"},{title:"Self KPI",path:"/KPI/PM",icon:Object(c.jsx)(xe.a,{}),cName:"nav-text"},{title:"PMInput",path:"/pmInput",icon:Object(c.jsx)(me.a,{}),cName:"nav-text"}],Ce=[{title:"Home",eventKey:"home",path:"/",icon:Object(c.jsx)(ge.a,{}),cName:"nav-text"},{title:"Self KPI",path:"/KPI/PM",icon:Object(c.jsx)(xe.a,{}),cName:"nav-text"}],Te=Object(f.a)((function(e){var t=Object(o.useState)(!0),n=Object(m.a)(t,2),r=n[0],a=(n[1],Object(o.useState)("")),s=Object(m.a)(a,2);s[0],s[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Ee.b.Provider,{value:{color:"white"},children:Object(c.jsx)("nav",{className:r?"nav-menu active":"nav-menu",children:Object(c.jsx)("ul",{className:"nav-menu-items",children:e.projectStore.sidebarArray.map((function(e,t){return Object(c.jsx)("li",{className:e.cName,children:Object(c.jsxs)(fe.b,{exact:!0,to:e.path,activeClassName:"main-nav-active",children:[e.icon,Object(c.jsx)("span",{children:e.title})]})},t)}))})})})})})),Se=[{title:"Home",eventKey:"home",path:"/",icon:Object(c.jsx)(ge.a,{}),cName:"nav-text"},{title:"Project KPIs",path:"/KPI/PM",icon:Object(c.jsx)(xe.a,{}),cName:"nav-text"},{title:"PMO Input",path:"/pmoInput",icon:Object(c.jsx)(me.a,{}),cName:"nav-text"}],Pe=new(function(){function e(){Object(d.a)(this,e),this.id=1,this.name="default",this.projectPMO="default",this.sidebarArray=Ce,this.roleName="SA",Object(u.m)(this,{id:u.n,name:u.n,projectPMO:u.n,changeProject:u.f,sidebarArray:u.n,changeRole:u.f})}return Object(h.a)(e,[{key:"changeProject",value:function(e,t){this.name=e,this.id=t}},{key:"changeRole",value:function(e,t){this.role=e,this.projectPMO=t,"SA"===e&&"N"===t?this.sidebarArray=Ce:"PM"===e&&"N"===t?this.sidebarArray=_e:"Y"===t&&(this.sidebarArray=Se)}}]),e}()),Ie=n(297),ye=Object(J.a)((function(e){return{head:{backgroundColor:e.palette.background.default,color:e.palette.common.black,borderColor:" #bebebe",fontSize:15,fontFamily:"'Montserrat', sans-serif"},body:{fontSize:12,borderColor:"#bebebe",fontFamily:"'Montserrat', sans-serif",backgroundColor:e.palette.background.default}}}))(B.a),Ne=Object(J.a)((function(e){return{root:{}}}))(W.a),Re=Object(D.a)({table:{minWidth:400},toolbar:{" & p:nth-of-type(2)":{fontFamily:"'Montserrat', sans-serif",color:"white"}," & p:nth-of-type(1)":{fontFamily:"'Montserrat', sans-serif",color:"white"}},input:{fontFamily:"'Montserrat', sans-serif",color:"white"},selectIcon:{color:"white"},root:{color:"white"}}),De=Object(f.a)((function(e){var t=Re(),n=e.data;console.log(n+".....");var a=Object(o.useState)(!1),s=Object(m.a)(a,2),i=s[0],l=s[1],j=Object(o.useState)(!1),d=Object(m.a)(j,2),h=(d[0],d[1],Object(o.useState)(0)),O=Object(m.a)(h,2),b=(O[0],O[1],Object(o.useState)("home")),u=Object(m.a)(b,2),p=u[0],f=(u[1],r.a.useState(0)),E=Object(m.a)(f,2),x=E[0],g=E[1],_=r.a.useState(10),T=Object(m.a)(_,2),S=T[0],P=T[1];console.log(p),Object(o.useEffect)((function(){fetch("http://20.84.70.197:5000/showTables/".concat(n)).then((function(e){return e.json()})).then((function(t){console.log({json:t}),e.projectStore.changeRole(t[0].roleId,t[0].PMO),localStorage.setItem("tables",JSON.stringify(t)),l(!0)}))}),[]),console.log(i);var I=JSON.parse(localStorage.getItem("tables"));console.log(p.includes("PM"));var y=I.map((function(e){return e.PMO})).filter((function(e,t,n){return n.indexOf(e)===t}));console.log(y[0]);var N=JSON.parse(localStorage.getItem("project"));return i?(e.projectStore.id===I[0].project_id?e.projectStore.changeRole(I[0].roleId,I[0].PMO):e.projectStore.changeRole(N,I[0].PMO),Object(c.jsxs)("div",{className:"tableHead shadowClass",style:{borderRadius:"2px"},children:[Object(c.jsx)("h2",{children:Object(c.jsx)("b",{children:"Project Health Dashboard"})}),Object(c.jsx)(K.a,{component:$.a,style:{borderRadius:"10px",border:"2px solid black"},children:Object(c.jsxs)(Y.a,{className:t.table,"aria-label":"simple table",children:[Object(c.jsxs)(H.a,{children:[Object(c.jsxs)(W.a,{className:"tableField",children:[Object(c.jsx)(ye,{align:"center",style:{backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"Project"})}),Object(c.jsx)(ye,{align:"left",style:{backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"Current Milestone"})}),Object(c.jsx)(ye,{align:"left",style:{backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"Project Type (FP/TM)"})}),Object(c.jsx)(ye,{align:"left",style:{borderRight:"1px solid",backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"%Comp"})}),Object(c.jsx)(ye,{align:"center",colSpan:"1",className:"border",style:{borderRight:"1px solid",backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"Current Project Health"})}),Object(c.jsx)(ye,{align:"center",colSpan:"2",className:"border",style:{borderRight:"1px solid",backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"PM KPI"})}),Object(c.jsx)(ye,{align:"center",colSpan:"2",className:"border",style:{borderRight:"1px solid",backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"SA KPI"})}),Object(c.jsx)(ye,{align:"center",colSpan:"2",className:"border",style:{backgroundColor:"#DCDCDC"},children:Object(c.jsx)("b",{children:"Proj Fin"})})]}),Object(c.jsxs)(Ne,{children:[Object(c.jsx)(ye,{component:"th",scope:"row",colSpan:"4",style:{borderRight:"1px solid"}}),Object(c.jsx)(ye,{component:"th",scope:"row",colSpan:"1",style:{borderRight:"1px solid"}}),Object(c.jsx)(ye,{align:"left",className:"border",style:{fontSize:13},children:Object(c.jsx)("b",{children:"Self"})}),Object(c.jsx)(ye,{align:"left",className:"border",style:{fontSize:13,borderRight:"1px solid"},children:Object(c.jsx)("b",{children:"PMO"})}),Object(c.jsx)(ye,{align:"left",className:"border",style:{fontSize:13},children:Object(c.jsx)("b",{children:"Self"})}),Object(c.jsx)(ye,{align:"left",className:"border",style:{fontSize:13,borderRight:"1px solid"},children:Object(c.jsx)("b",{children:"PMO"})}),Object(c.jsx)(ye,{align:"left",className:"border",style:{fontSize:13},children:Object(c.jsx)("b",{children:"Act/Bud"})}),Object(c.jsx)(ye,{align:"left",className:"border",style:{fontSize:13},children:Object(c.jsx)("b",{children:"Fct/Bud"})})]},"first row")]}),Object(c.jsx)(U.a,{children:I.slice(x*S,x*S+S).map((function(t){return Object(c.jsxs)(Ne,{children:[Object(c.jsx)(ye,{align:"left",component:"th",scope:"row",children:Object(c.jsx)(C.a,{className:"btn",size:"small",style:{fontSize:15,fontWeight:"bold",fontFamily:"'Montserrat', sans-serif"},onClick:function(){e.getProjectName(t.project_name),localStorage.setItem("project",JSON.stringify(t.roleId)),e.projectStore.changeProject(t.project_name,t.project_id),e.projectStore.changeRole(t.roleId,y[0])},children:t.project_name})}),Object(c.jsx)(ye,{align:"center",children:t.project_milestone}),Object(c.jsx)(ye,{align:"center",children:t.project_type}),Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",fontSize:14},children:[t.project_complete_percent,"%"]}),t.pmoscore>=85?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#32ed7d",fontSize:14},children:[t.pmoscore||0,"%"]}):t.pmoscore>=70&&t.pmoscore<85?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#fbff91",fontSize:14},children:[t.pmoscore||0,"%"]}):t.pmoscore<70?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#ff8f73",fontSize:14},children:[t.pmoscore||0,"%"]}):null,Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",fontSize:14},children:[(t.pm_selfscore||0).toFixed(0)||0,"%"]}),t.pm_pmoscore>=85?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#32ed7d",fontSize:14},children:[t.pm_pmoscore||0,"%"]}):t.pm_pmoscore>=70&&t.pm_pmoscore<85?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#fbff91",fontSize:14},children:[t.pm_pmoscore||0,"%"]}):t.pm_pmoscore<70?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#ff8f73",fontSize:14},children:[t.pm_pmoscore||0,"%"]}):null,Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",fontSize:14},children:[(t.sa_selfscore||0).toFixed(0),"%"]}),t.sa_pmoscore>=85?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",fontSize:14,backgroundColor:"#32ed7d"},children:[t.sa_pmoscore||0,"%"]}):t.sa_pmoscore>=70&&t.sa_pmoscore<85?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#fbff91",fontSize:14},children:[t.sa_pmoscore||0,"%"]}):t.sa_pmoscore<70?Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",backgroundColor:"#ff8f73",fontSize:14},children:[t.sa_pmoscore||0,"%"]}):null,t.project_fin_act_bud>110&&"FP"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#ff8f73",fontSize:14,borderRight:"1px solid"},align:"center",children:[t.project_fin_act_bud,"%"]}):t.project_fin_act_bud>101&&t.project_fin_act_bud<=110&&"FP"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#fbff91",borderRight:"1px solid",fontSize:14},align:"center",children:[t.project_fin_act_bud,"%"]}):t.project_fin_act_bud<=100&&"FP"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#32ed7d",borderRight:"1px solid",fontSize:14},align:"center",children:[t.project_fin_act_bud,"%"]}):t.project_fin_act_bud<=80&&"TM"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#ff8f73",borderRight:"1px solid",fontSize:14},align:"center",children:[t.project_fin_act_bud,"%"]}):t.project_fin_act_bud>80&&t.project_fin_act_bud<=100&&"TM"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#fbff91",borderRight:"1px solid",fontSize:14},align:"center",children:[t.project_fin_act_bud,"%"]}):t.project_fin_act_bud>100&&"TM"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#32ed7d",borderRight:"1px solid",fontSize:14},align:"center",children:[t.project_fin_act_bud,"%"]}):Object(c.jsxs)(ye,{align:"center",style:{borderRight:"1px solid",fontSize:14},children:[t.project_fin_act_bud,"%"]}),t.project_fin_fct_bud>120&&"FP"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#ff8f73",fontSize:14},align:"center",children:[t.project_fin_fct_bud,"%"]}):t.project_fin_fct_bud>110&&t.project_fin_fct_bud<=120&&"FP"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#fbff91",fontSize:14},align:"center",children:[t.project_fin_fct_bud,"%"]}):t.project_fin_fct_bud<=110&&"FP"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#32ed7d",fontSize:14},align:"center",children:[t.project_fin_fct_bud,"%"]}):t.project_fin_fct_bud<=70&&"TM"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#ff8f73",fontSize:14},align:"center",children:[t.project_fin_fct_bud,"%"]}):t.project_fin_fct_bud>70&&t.project_fin_fct_bud<=100&&"TM"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#fbff91",fontSize:14},align:"center",children:[t.project_fin_fct_bud,"%"]}):t.project_fin_fct_bud>100&&"TM"===t.project_type?Object(c.jsxs)(ye,{style:{backgroundColor:"#32ed7d",fontSize:14},align:"center",children:[t.project_fin_fct_bud,"%"]}):Object(c.jsxs)(ye,{align:"center",style:{backgroundColor:"#32ed7d",fontSize:14},children:[t.project_fin_fct_bud,"%"]})]},t.project_name)}))})]})}),Object(c.jsx)(Ie.a,{rowsPerPageOptions:[3,10,25],component:"div",count:I.length,rowsPerPage:S,page:x,onChangePage:function(e,t){g(t)},onChangeRowsPerPage:function(e){P(+e.target.value),g(0)},classes:{toolbar:t.toolbar,input:t.input,selectIcon:t.selectIcon,root:t.root}})]})):Object(c.jsx)("div",{className:"app",children:Object(c.jsx)("div",{className:"container",children:"Loading, please wait.."})})}));n(292);var Me=Object(D.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function Ae(e){var t=sessionStorage.getItem("username");console.log(t);var n=Object(o.useState)(!1),r=Object(m.a)(n,2),a=r[0],s=r[1],i=Object(o.useState)(!1),l=Object(m.a)(i,2),j=(l[0],l[1],Object(o.useState)(0)),d=Object(m.a)(j,2),h=(d[0],d[1],Object(o.useState)("home")),O=Object(m.a)(h,2),b=O[0];O[1];Object(o.useEffect)((function(){fetch("http://20.84.70.197:5000/showTables/".concat(t)).then((function(e){return e.json()})).then((function(e){console.log({json:e}),localStorage.setItem("tables",JSON.stringify(e)),s(!0)}))}),[]),console.log(a);JSON.parse(localStorage.getItem("tables"));console.log(b.includes("PM"));var u=Me(),f=Object(o.useState)(Pe.name),E=Object(m.a)(f,2),x=E[0],_=E[1],C=Object(o.useState)({value:10,color:"black"}),T=Object(m.a)(C,2),S=T[0],I=T[1];return Object(o.useEffect)((function(){!function(e){e>=0&&e<=20&&I((function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"red"})}));40===e&&I((function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"green"})}));60===e&&I((function(e){return Object(g.a)(Object(g.a)({},e),{},{color:"blue"})}))}(S.value)}),[S.value]),a?Object(c.jsx)("div",{className:u.root,children:Object(c.jsxs)(P.a,{container:!0,spacing:2,children:[Object(c.jsx)(P.a,{item:!0,sm:9,children:Object(c.jsx)(P.a,{container:!0,spacing:2,direction:"column",children:Object(c.jsx)(P.a,{item:!0,style:{margin:3},spacing:5,children:Object(c.jsx)(De,{projectStore:Pe,data:p.username,getProjectName:function(e){_(e)}})})})}),Object(c.jsx)(P.a,{item:!0,sm:3,children:Object(c.jsx)(pe,{data:x})})]})}):Object(c.jsx)("div",{children:"Loading please wait...."})}var ve=n(19),Le=n(293),we=n(291),Je=n(143),ke=n.n(Je),ze=n(144),Fe=n.p+"static/media/accel.3ad7bc40.jpg",Ye=Object(D.a)((function(e){return{root:{flexGrow:5},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function Ue(){var e=Ye(),t=r.a.useState(!0),n=Object(m.a)(t,2),o=n[0],a=(n[1],r.a.useState(null)),s=Object(m.a)(a,2),i=s[0],l=s[1],j=Boolean(i),d=(Object(ve.f)(),function(){l(null)});return Object(c.jsx)("div",{className:"AppBar ",children:Object(c.jsx)("div",{className:e.root,children:Object(c.jsx)(Le.a,{style:{background:"linear-gradient(to right,#ffffff,#d0d9d9)"},className:"Logo",position:"fixed",children:Object(c.jsxs)(we.a,{children:[Object(c.jsx)("img",{src:Fe,width:"160",height:"60"}),Object(c.jsx)(R.a,{variant:"h6",className:e.title}),o&&Object(c.jsxs)("div",{children:[Object(c.jsx)(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(c.jsx)(ke.a,{})}),Object(c.jsxs)(ze.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:d,children:[Object(c.jsx)(Z.a,{onClick:d,children:"Profile"}),Object(c.jsx)(Z.a,{onClick:d,children:"My account"}),Object(c.jsx)(Z.a,{onClick:function(){try{alert("logout");var e=fetch("http://localhost:3000/logout",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}}).json();console.log(e),e&&e.success&&(p.loading=!1,p.isLoggedIn=!1,p.username="")}catch(t){console.log(t),console.log("eeexception"),alert(t+"...")}p.loading=!1,p.isLoggedIn=!1,p.username="",sessionStorage.setItem("username",null),sessionStorage.setItem("isLoggedIn","false"),window.location.href="/"},children:"Log out"})]})]})]})})})})}var Be=function(e){Object(O.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.loading=!1,e.next=4,fetch("http://20.84.70.197:5000/isLoggedIn",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent)?(p.loading=!1,p.isLoggedIn=!0,p.username=n.sucess,sessionStorage.setItem("username",n.username),sessionStorage.setItem("isLoggedIn","true")):(p.loading=!1,p.isLoggedIn=!1),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("eeexception"),alert(e.t0+"..."),p.loading=!1,p.isLoggedIn=!1;case 17:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"doLogout",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,alert("logout"),e.next=4,fetch("http://20.84.70.197:5000/logout",{method:"post",headers:{Accept:"application/json","Content-type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent)&&n.success&&(p.loading=!1,p.isLoggedIn=!1,p.username=""),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),console.log("eeexception"),alert(e.t0+"...");case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return p.loading?Object(c.jsx)("div",{className:"app",children:Object(c.jsx)("div",{className:"container",children:"Loading, please wait.."})}):(p.isLoggedIn||sessionStorage.getItem("isLoggedIn"))&&(p.username||sessionStorage.getItem("username"))?(console.log(Pe.name),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ue,{}),Object(c.jsx)(P.a,{position:"fixed",styel:{color:"red"},children:"PMO Audit Tool"}),Object(c.jsx)(fe.a,{children:Object(c.jsxs)(P.a,{container:!0,spacing:3,children:[Object(c.jsx)(P.a,{item:!0,sm:1,children:Object(c.jsx)(Te,{projectStore:Pe})}),Object(c.jsx)(P.a,{item:!0,sm:11,children:Object(c.jsxs)(ve.c,{children:[Object(c.jsx)(ve.a,{path:"/",exact:!0,component:Ae}),Object(c.jsx)(ve.a,{path:"/pmInput",exact:!0,render:function(e){return Object(c.jsx)(re,{data:Pe.id})}}),Object(c.jsx)(ve.a,{path:"/pmoInput",exact:!0,render:function(e){return Object(c.jsx)(ne,{data:Pe.id})}}),Object(c.jsx)(ve.a,{path:"/KPI/PM",exact:!0,render:function(e){return Object(c.jsx)(he,{data:[sessionStorage.getItem("username"),Pe.id]})}})]})})]})})]})):Object(c.jsx)("div",{className:"app",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(E.a,{children:Object(c.jsx)(x.a,{children:Object(c.jsx)(L,{})})})})})}}]),n}(r.a.Component),Ke=Object(f.a)(Be),He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,303)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(A.a,{children:Object(c.jsx)(Ke,{})})}),document.getElementById("root")),He()}},[[223,1,2]]]);
//# sourceMappingURL=main.4f0157ea.chunk.js.map